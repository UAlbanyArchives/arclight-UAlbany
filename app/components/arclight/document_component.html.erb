<div class="card document-show-card">
  <div class="card-body">

    <div class='d-md-flex justify-content-between al-show'>
      <div class='al-show-breadcrumb'>
        <nav aria-label="breadcrumb">
          <%= render breadcrumb_component.new(presenter: presenter) %>
        </nav>
      </div>
    </div>

    <div class="title-container">
      <div class="title-badge">
        <%= content_tag :h1 do %>
          <%= document.normalized_title %>
        <% end %>
        <% if document["level_ssm"] != ["collection"] && document.key?("accessrestrict_tesim") %>
          <a href="#access-heading"><span class="badge text-bg-danger">Restricted</span></a>
        <% end %>
      </div>
      <%= render 'arclight/requests', document: document %>
      <%= render Arclight::BookmarkComponent.new document: document, action: bookmark_config %>
      <%= toggle_sidebar %>
      <%= online_filter %>
    </div>

    <% if document['odd_heading_ssm'].present? and document['odd_heading_ssm'].first.downcase == "content warning" %>
      <div class="alert alert-warning" role="alert">
        <h2 class="alert-heading h4"><%= document['odd_heading_ssm'].first %></h2>
        <p><%= document['odd_tesim'].first %></p>
      </div>
    <% end %>

    <div class="row">

      <% if document.key?('dado_identifier_ssm') %>


        <div class="col-12">
          <%= embed %>
        </div>

        <div class="col-12">

        <h2 class="al-show-sub-heading">Metadata</h2>

        <%= render Arclight::MetadataSectionComponent.with_collection(component_metadata_partials,
                   metadata_attr: { layout: Arclight::UpperMetadataLayoutComponent },
                   presenter: presenter) unless document.collection? %>
        </div>

      <% else %>

        <div class="col-12">

          <%= render Arclight::MetadataSectionComponent.with_collection(component_metadata_partials,
                   metadata_attr: { layout: Arclight::UpperMetadataLayoutComponent },
                   presenter: presenter) unless document.collection? %>
        </div>

      <% end %>

    </div>

    <% if document.collection? %>
    <div id="metadata">
      <h2 class="sr-only visually-hidden"><%= t 'arclight.views.show.context' %></h2>
      <%= render Arclight::MetadataSectionComponent.with_collection(metadata_partials,
                    metadata_attr: { layout: Arclight::UpperMetadataLayoutComponent },
                    presenter: presenter, heading: true) %>
    </div>
    <% elsif document.children? %>
    <div id="contents">
      <h2 class="al-show-sub-heading"><%= t 'arclight.views.show.contents' %></h2>
      <%= helpers.turbo_frame_tag "al-hierarchy-#{document.id}-document", loading: 'lazy', src: helpers.hierarchy_solr_document_path(id: document.id, paginate: true, key: '-document', per_page: 50) %>
    </div>
    <% end %>

    <%= access %>

  </div>

</div>
